uniteste # ../integração/uniteste.0

uniteste.descrever({"Referências aninhadas em objeto - Teste Completo" {
  // Caso básico do enunciado
  uniteste.iguais({
    {
      exemplo: {
        a: 2
        b: {
          c: a + 3
        }
      }
      resultado: exemplo.b.c
    }.resultado
    5
  })
  
  // Múltiplos níveis de aninhamento
  uniteste.iguais({
    {
      exemplo_complexo: {
        x: 5
        y: {
          z: x * 2
          w: {
            v: z + x
          }
        }
      }
      resultado: exemplo_complexo.y.w.v
    }.resultado
    15
  })
  
  // Múltiplas referências no mesmo nível
  uniteste.iguais({
    {
      exemplo_múltiplas_refs: {
        a: 1
        b: 2
        c: {
          soma: a + b
          produto: a * b
          nested: {
            resultado: soma + produto
          }
        }
      }
      resultado: exemplo_múltiplas_refs.c.nested.resultado
    }.resultado
    5
  })
  
  // Referências cruzadas entre níveis
  uniteste.iguais({
    {
      exemplo_cruzado: {
        base: 10
        nivel1: {
          valor1: base + 5
          nivel2: {
            valor2: base * 2
            valor3: valor1 + valor2
          }
        }
      }
      resultado: exemplo_cruzado.nivel1.nivel2.valor3
    }.resultado
    35
  })
  
  // Referência a propriedade que também referencia outra
  uniteste.iguais({
    {
      exemplo_cadeia: {
        a: 1
        b: a + 1
        c: {
          d: b + 1
          e: {
            f: d + 1
          }
        }
      }
      resultado: exemplo_cadeia.c.e.f
    }.resultado
    4
  })
  
  // Teste com operações mais complexas
  uniteste.iguais({
    {
      exemplo_operações: {
        x: 3
        y: 4
        geometria: {
          quadrado_x: x * x
          quadrado_y: y * y
          hipotenusa: {
            quadrado_total: quadrado_x + quadrado_y
          }
        }
      }
      resultado: exemplo_operações.geometria.hipotenusa.quadrado_total
    }.resultado
    25
  })
}})